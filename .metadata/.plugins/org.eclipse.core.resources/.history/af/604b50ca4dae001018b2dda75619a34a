package myproject;
import java.time.Duration;
import org.openqa.selenium.*;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class PageLogin {
	
	//Locator
	By txtEmail = By.name("email");
	By txtPass = By.name("password");
	By BtnAccept = By.className("btn-lg btn-primary");
	By BtnLogin = By.cssSelector("button[type='submit]");
	By MsgInvalidEmail = By.xpath("(//div[@class='is-invalid-messages']//span[2])[1]");
	By MsgInvalidPass = By.xpath("(//div[@class='is-invalid-messages']//span[2])[2]");
	
	private WebDriver driver;
	private WebDriverWait wait;
	
	//Constructor
	public PageLogin ( WebDriver driver) {
		driver = this.driver;
		this.wait = new WebDriverWait(driver, Duration.ofSeconds(10));
		
	}
	
	public void ClickAccept() {
		WebElement AcceptBtn = wait.until(ExpectedConditions.visibilityOfElementLocated(BtnAccept));
		AcceptBtn.click();
	}
	
	
	public void EnterEmail(String email) {
		WebElement Email = wait.until(ExpectedConditions.visibilityOfElementLocated(txtEmail));
		Email.sendKeys(email);
	}
	
	public void EnterPass(String password) {
		WebElement Pass = wait.until(ExpectedConditions.visibilityOfElementLocated(txtPass));
		Pass.sendKeys(password);
	}
	
	public void ClickLogin() {
		WebElement Login = wait.until(ExpectedConditions.visibilityOfElementLocated(BtnLogin));
		Login.click();
	}
	
	
	
	public void Login(String email, String pass) {
		ClickAccept();
		EnterEmail(email);
		EnterPass(pass);
		ClickLogin();
	}

}
